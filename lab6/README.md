## Lab 6 — Refactoring & Code Smells

### Найденные проблемы качества (code smells)
- Длинная функция `process_checkout` (слишком много ответственности).
- Дублирование и «шум» валидаций и расчётов внутри одной функции.
- Магические числа (налог 0.21, скидки 0.10/0.20/0.05, пороги 200/100, VIP скидки 50/10).
- Сложно читать сверху вниз: логика перемешана (валидация, расчёты, генерация id).

### Применённые рефакторинги
- Extract Function: вынесены отдельные функции для:
  - разбора запроса,
  - валидации,
  - расчёта subtotal,
  - расчёта скидки,
  - применения скидки,
  - расчёта налога,
  - генерации order_id.
- Introduce Constants: все магические числа вынесены в константы.
- Улучшение читабельности: `process_checkout` теперь короткая и читается как сценарий.

### Что стало проще читать и менять
- Логику скидок можно расширять, не трогая остальную обработку заказа.
- Валидации и расчёты изолированы, легче тестировать и поддерживать.
- Изменение ставок/порогов (налог, скидки) делается в одном месте (константы).

### Проверка
Все тесты из `test_order_processing.py` проходят без изменений.
